<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
        <title>Reg</title>
        <style>
            .state1{
                color:#aaa;
            }
            .state2{
                color:#000;
            }
            .state3{
                color:red;
            }
            .state4{
                color:green;
            }
			body{
			font-size:12px;

			}
        </style>
        <script src="file:///C|/wampconfile/wamp/www/Public/jquery-1.11.0.js"></script>
        <script>
            $(function(){
 
                var ok1=false;
                var ok2=false;
                var ok3=false;
                var ok4=false;
/*		$("form :input.required").each(function(){
            var $required = $("<strong class='high'> *</strong>"); //创建元素
            $(this).parent().append($required); //然后将它追加到文档中
        });*/
                // 验证用户名
                $('input[name="username"]').focus(function(){
                    $(this).next().text('用户名应该为3-20位之间').removeClass('state1').addClass('state2');
                }).blur(function(){
                    if($(this).val().length >= 3 && $(this).val().length <=12 && $(this).val()!=''){
                        $(this).next().text('输入成功').removeClass('state1').addClass('state4');
                        ok1=true;
                    }else{
                        $(this).next().text('用户名应该为3-20位之间').removeClass('state1').addClass('state3');
                    }
                     
                });
 
                //验证密码
                $('input[name="password"]').focus(function(){
                    $(this).next().text('密码应该为6-20位之间').removeClass('state1').addClass('state2');
                }).blur(function(){
                    if($(this).val().length >= 6 && $(this).val().length <=20 && $(this).val()!=''){
                        $(this).next().text('输入成功').removeClass('state1').addClass('state4');
                        ok2=true;
                    }else{
                        $(this).next().text('密码应该为6-20位之间').removeClass('state1').addClass('state3');
                    }
                     
                });
 
                //验证确认密码
                    $('input[name="repassword"]').focus(function(){
                    $(this).next().text('输入的确认密码要和上面的密码一致,规则也要相同').removeClass('state1').addClass('state2');
                }).blur(function(){
                    if($(this).val().length >= 6 && $(this).val().length <=20 && $(this).val()!='' && $(this).val() == $('input[name="password"]').val()){
                        $(this).next().text('输入成功').removeClass('state1').addClass('state4');
                        ok3=true;
                    }else{
                        $(this).next().text('输入的确认密码要和上面的密码一致,规则也要相同').removeClass('state1').addClass('state3');
                    }
                     
                });
 
                //验证邮箱
                $('input[name="emailAddress"]').focus(function(){
                    $(this).next().text('请输入正确的EMAIL格式').removeClass('state1').addClass('state2');
                }).blur(function(){
                    if($(this).val().search(/\w+([-+.]\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*/)==-1){
                        $(this).next().text('请输入正确的EMAIL格式').removeClass('state1').addClass('state3');
                    }else{                  
                        $(this).next().text('输入成功').removeClass('state1').addClass('state4');
                        ok4=true;
                    }
                     
                });
 
                //提交按钮,所有验证通过方可提交
 
                $('.submit').click(function(){
                    if(ok1 && ok2 && ok3 && ok4){
                        $('form').submit();
                    }else{
                        return false;
                    }
                });
                 
            });
        </script>
    </head>
<body>
  
<form action='do.php' method='post' >
    用户名:<input type="text" name="username">
                <span class='state1'>用户名:</span><br/><br/>
    密码:<input type="password" name="password">
                <span class='state1'>密码:</span><br/><br/>
    确认密码:<input type="password" name="repassword">
                <span class='state1'>确认密码:</span><br/><br/>
    邮箱:<input type="text" name="emailAddress">
                <span class='state1'>邮箱:</span><br/><br/>   
    <a href="javascript:;"><img class='submit' type='image' src='./images/reg.gif' /></a>
</form>

	<form id="registerForm" action="register.php">
		<div class="emptyInput"></div>
		<input id="username " name="username"  class="inputBox required" type="text" placeholder="用户名" autocomplete=off  />
		<div class="emptyInput state1">请填写用户名</div>
		<input id="emailAddress" name="emailAddress" class="inputBox required" type="text" placeholder="邮箱" autocomplete=off />
		<div class="emptyInput state1">邮箱</div>
		<input id="password" name="password" class="inputBox required" type="password " placeholder="密码" autocomplete=off />
		<div class="emptyInput state1">密码</div>
		<input id="repassword" name="repassword" class="inputBox required" type="repassword " placeholder="确认密码" autocomplete=off />
		<div class="emptyButton state1">确认密码</div>
		<input type="button" value="注册" class="clickBox" />
		<p><a class="clickButton" href="#">登录</a></p>
	</form>
</body>
</html>